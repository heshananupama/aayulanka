{% extends "base.html" %}
{% block content %}

<section class="mx-auto max-w-6xl px-4 py-14">
  <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-4">
    <div>
      <h1 class="text-3xl font-semibold">Gallery</h1>
      <p class="mt-2 text-slate-600">
        Real moments from trips with Aayu Lanka Journeys — beaches, hill country, culture, and adventure.
      </p>
    </div>

    <a href="https://wa.me/94769775395?text=Hi%20Aayu%20Lanka%20Journeys%20—%20I%20want%20to%20plan%20a%20trip!"
       class="inline-flex rounded-xl bg-emerald-500 px-5 py-3 text-sm font-medium text-white hover:bg-emerald-600">
      Plan on WhatsApp
    </a>
  </div>

  <!-- Grid -->
  <div class="mt-10 grid gap-4 sm:grid-cols-2 md:grid-cols-3">
    {% for img in images %}
    <button type="button"
            class="group relative overflow-hidden rounded-2xl border bg-slate-50"
            onclick="openLightbox('{{ img.src }}', '{{ img.alt }}')">
      <img src="{{ img.src }}"
           alt="{{ img.alt }}"
           loading="lazy"
           class="h-60 w-full object-cover group-hover:scale-[1.02] transition" />
      <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition"></div>
    </button>
    {% endfor %}
  </div>

  <!-- CTA -->
  <div class="mt-10 rounded-2xl bg-slate-50 border p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4">
    <div>
      <div class="font-semibold">Want a trip like these?</div>
      <div class="text-slate-600 text-sm mt-1">Send your dates + budget — we’ll build a custom itinerary.</div>
    </div>
    <div class="flex gap-3">
      <a href="tel:+94769775395"
         class="rounded-xl border px-5 py-3 text-sm font-medium hover:bg-white">
        Call
      </a>
      <a href="/contact"
         class="rounded-xl bg-slate-900 text-white px-5 py-3 text-sm font-medium hover:bg-slate-800">
        Submit inquiry
      </a>
    </div>
  </div>
</section>

<!-- Lightbox -->
<div id="lightbox"
     class="fixed inset-0 z-[60] hidden items-center justify-center bg-black/70 p-4"
     onclick="closeLightbox()">
  <div class="relative max-w-5xl w-full" onclick="event.stopPropagation()">
    <button class="absolute -top-12 right-0 rounded-xl bg-white/10 px-4 py-2 text-white hover:bg-white/20"
            onclick="closeLightbox()">
      Close ✕
    </button>
    <img id="lightboxImg" src="" alt="" class="w-full max-h-[80vh] object-contain rounded-2xl bg-black" />
    <div id="lightboxCaption" class="mt-3 text-white/90 text-sm"></div>
  </div>
</div>

<script>
  function openLightbox(src, alt) {
    const box = document.getElementById("lightbox");
    const img = document.getElementById("lightboxImg");
    const cap = document.getElementById("lightboxCaption");
    img.src = src;
    img.alt = alt || "";
    cap.textContent = alt || "";
    box.classList.remove("hidden");
    box.classList.add("flex");
  }

  function closeLightbox() {
    const box = document.getElementById("lightbox");
    const img = document.getElementById("lightboxImg");
    img.src = "";
    box.classList.add("hidden");
    box.classList.remove("flex");
  }
</script>

{% endblock %}
